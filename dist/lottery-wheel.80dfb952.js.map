{"version":3,"sources":["../src/wheel.js","../index.js","../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Wheel","selector","options","sectors","Error","$root","document","querySelector","$canvas","createElement","$ctx","getContext","rootSize","width","clientWidth","height","clientHeight","gradient","createLinearGradient","center","x","radius","y","addColorStop","beginPath","arc","Math","PI","fillStyle","createOuterGradient","fill","innerRadius","lineWidth","strokeStyle","stroke","centerRadius","length","round","size","drawOuterArk","drawInnerArk","drawCenterArk","appendChild","resizeHandler","bind","window","addEventListener","map","item","index","angleOffset","sectorStep","id","text","startAngle","endAngle","x1","cos","y1","sin","x2","y2","forEach","moveTo","lineTo","offsetAngle","offsetRadius","save","font","translate","textAlign","rotate","fillText","restore","wheel","s","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","module"],"mappings":"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","file":"lottery-wheel.80dfb952.js","sourceRoot":"../demo","sourcesContent":["export class Wheel {\n  #OFFSET_GAP = 10;\n  #INSIDE_GAP = 35;\n  #INSIDE_STROKE_WIDTH = 10;\n  #CENTER_STROKE_WIDTH = 10;\n  #SECTOR_BORDER_WIDTH = 2;\n\n  constructor(selector, options) {\n    if (!options.sectors) {\n      throw new Error(\"there are no sectors!\");\n    }\n    this.$root = document.querySelector(selector);\n    this.$canvas = document.createElement(\"canvas\");\n    this.$ctx = this.$canvas.getContext(\"2d\");\n    this.sectors = options.sectors;\n\n    this.#setup();\n  }\n\n  #render() {\n    this.drawOuterArk();\n    this.drawInnerArk();\n    this.drawCenterArk();\n    this.#generateSectors();\n  }\n\n  #setup() {\n    this.$root.appendChild(this.$canvas);\n\n    this.resizeHandler = this.resizeHandler.bind(this);\n    window.addEventListener(\"resize\", this.resizeHandler);\n    this.resizeHandler();\n  }\n\n  #generateSectors() {\n    this.#mapSectors();\n    this.#renderLines();\n    this.#renderText();\n  }\n\n  #mapSectors() {\n    this.sectors = this.sectors.map((item, index) => {\n      const angleOffset = this.sectorStep * index;\n      return {\n        id: index,\n        text: item.text || item,\n        startAngle: this.sectorStep * index,\n        endAngle: this.sectorStep * (index + 1),\n        x1: this.centerRadius * Math.cos(angleOffset) + this.center.x,\n        y1: this.centerRadius * Math.sin(angleOffset) + this.center.y,\n        x2: this.innerRadius * Math.cos(angleOffset) + this.center.x,\n        y2: this.innerRadius * Math.sin(angleOffset) + this.center.y,\n      };\n    });\n  }\n\n  #renderLines() {\n    this.sectors.forEach((item) => {\n      this.$ctx.beginPath();\n      this.$ctx.moveTo(item.x1, item.y1);\n      this.$ctx.lineWidth = this.#SECTOR_BORDER_WIDTH;\n      this.$ctx.strokeStyle = \"#1A173B\";\n      this.$ctx.lineTo(item.x2, item.y2);\n      this.$ctx.stroke();\n    })\n  }\n\n\n#renderText() {\n  this.sectors.forEach((item) => {\n    const offsetAngle =\n      (item.endAngle - item.startAngle) / 2 + item.startAngle;\n    const offsetRadius =\n      (this.centerRadius - this.innerRadius) / 2 + this.innerRadius;\n    //\n    this.$ctx.save();\n    this.$ctx.font = \"24px serif\";\n    this.$ctx.fillStyle = \"#fff\";\n    this.$ctx.translate(\n      this.center.x + offsetRadius * Math.cos(offsetAngle),\n      this.center.y + offsetRadius * Math.sin(offsetAngle)\n    );\n    this.$ctx.textAlign = \"center\";\n    this.$ctx.rotate(offsetAngle);\n    this.$ctx.fillText(item.text, 0, 0);\n    this.$ctx.restore();})\n}\n\n  get sectorStep() {\n    return (2 * Math.PI) / this.sectors.length;\n  }\n\n  get center() {\n    return {\n      x: Math.round(this.rootSize.width / 2),\n      y: Math.round(this.rootSize.height / 2),\n    };\n  }\n\n  get radius() {\n    return (\n      (this.rootSize.width > this.rootSize.height\n        ? this.center.y\n        : this.center.x) - this.#OFFSET_GAP\n    );\n  }\n\n  get innerRadius() {\n    return this.radius - this.#INSIDE_GAP;\n  }\n\n  get centerRadius() {\n    return this.radius * 0.35;\n  }\n\n  get rootSize() {\n    return {\n      width: this.$root.clientWidth || 0,\n      height: this.$root.clientHeight || 0,\n    };\n  }\n\n  set rootSize(size) {\n    this.$canvas.height = size.height;\n    this.$canvas.width = size.width;\n    this.#render();\n  }\n\n  resizeHandler() {\n    this.rootSize = {\n      width: this.$root.clientWidth || 0,\n      height: this.$root.clientHeight || 0,\n    };\n  }\n\n  createOuterGradient() {\n    const gradient = this.$ctx.createLinearGradient(\n      this.center.x - this.radius,\n      this.center.y,\n      this.center.x + this.radius,\n      this.center.y\n    );\n\n    gradient.addColorStop(0, \"#990066\");\n    gradient.addColorStop(1, \"#FF9966\");\n    return gradient;\n  }\n\n  drawOuterArk() {\n    this.$ctx.beginPath();\n    this.$ctx.arc(this.center.x, this.center.y, this.radius, 0, Math.PI * 2);\n    this.$ctx.fillStyle = this.createOuterGradient();\n    this.$ctx.fill();\n  }\n\n  drawInnerArk() {\n    this.$ctx.beginPath();\n    this.$ctx.arc(\n      this.center.x,\n      this.center.y,\n      this.innerRadius,\n      0,\n      Math.PI * 2\n    );\n    this.$ctx.lineWidth = this.#INSIDE_STROKE_WIDTH;\n    this.$ctx.fillStyle = \"#990066\";\n    this.$ctx.fill();\n    this.$ctx.strokeStyle = \"#1A173B\";\n    this.$ctx.stroke();\n  }\n\n  drawCenterArk() {\n    this.$ctx.beginPath();\n    this.$ctx.arc(\n      this.center.x,\n      this.center.y,\n      this.centerRadius,\n      0,\n      Math.PI * 2\n    );\n    this.$ctx.lineWidth = this.#CENTER_STROKE_WIDTH;\n    this.$ctx.strokeStyle = \"#1A173B\";\n    this.$ctx.stroke();\n  }\n}\n","import { Wheel } from \"./src/wheel\";\nimport \"./src/styles.scss\";\n\nconst wheel = new Wheel(\"#canvas-container\", {\n  sectors: [\n    \"one\",\n    \"two\",\n    \"three\",\n    \"four\",\n    \"five\",\n    \"one\",\n    \"two\",\n    \"three\",\n    \"four\",\n    \"five\",\n    \"one\",\n    \"two\",\n    \"three\",\n    \"four\",\n    \"five\",\n    \"one\",\n    \"two\",\n    \"three\",\n    \"four\",\n    \"five\",\n  ],\n});\n\nwindow.s = wheel;\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}